<div class="container py-4 d-flex justify-content-center">
 <div class="login-box">


   <h1 style="color:#1A3D64;" class="text-center" *ngIf="mode === 'login'">Login</h1>
   <h1 *ngIf="mode === 'register'">Register</h1>


   <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" novalidate>
    
     <!-- E-mail -->
     <div class="mb-3">
       <label style="color:#1A3D64;" for="email" class="form-label">E-mail *</label>
       <input
         id="email"
         name="email"
         type="email"
         class="form-control"
         [(ngModel)]="email"
         required
         email
         #emailCtrl="ngModel">
       <div class="text-danger" *ngIf="emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)">
         <small *ngIf="emailCtrl.errors?.['required']">E-mail is required.</small>
         <small *ngIf="emailCtrl.errors?.['email']">Please enter a valid e-mail.</small>
       </div>
     </div>


     <!-- Password -->
     <div class="mb-3">
       <label style="color:#1A3D64;" for="password" class="form-label">Password *</label>
       <input
         id="password"
         name="password"
         type="password"
         class="form-control"
         [(ngModel)]="password"
         required
         minlength="6"
         #pwCtrl="ngModel">
 <div class="text-danger" *ngIf="pwCtrl.invalid && (pwCtrl.dirty || pwCtrl.touched)">
         <small *ngIf="pwCtrl.errors?.['required']">Password is required.</small>
         <small *ngIf="pwCtrl.errors?.['minlength']">
           Password must be at least 6 characters.
         </small>
       </div>
     </div>


     <!-- Error reporting -->
     <div class="mb-3 text-danger" *ngIf="error">
       {{ error }}
     </div>


     <!-- Buttons -->
     <button
       type="submit"
       class="btn btn-primary me-2"
       [disabled]="loginForm.invalid || isSubmitting">
       {{
         isSubmitting
           ? 'Please wait...'
           : (mode === 'login' ? 'Login' : 'Register')
       }}
     </button>


     <button
       type="button"
       class="btn btn-outline-secondary"
       (click)="toggleMode()">
       {{ mode === 'login' ? 'Create new account' : 'Back to login' }}
     </button>
   </form>
 </div>
</div>
